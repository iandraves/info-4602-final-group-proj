<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/vega@5.30.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.26.0"></script>
</head>
<body>
  <div id="vis"/>
  <script>
    const spec = {
  "config": {
    "view": {
      "continuousWidth": 400,
      "continuousHeight": 300,
      "strokeOpacity": 0
    }
  },
  "vconcat": [
    {
      "hconcat": [
        {
          "data": {"name": "empty"},
          "mark": {"type": "text", "text": ""},
          "width": 75
        },
        {
          "layer": [
            {
              "mark": {"type": "arc", "innerRadius": 50, "stroke": "orange"},
              "encoding": {
                "color": {
                  "condition": {"value": "#FF9900", "selection": "selector001"},
                  "value": "gray"
                },
                "opacity": {
                  "condition": {"value": 1, "selection": "selector001"},
                  "value": 0.2
                },
                "theta": {
                  "field": "percentage",
                  "stack": true,
                  "type": "quantitative"
                }
              },
              "selection": {
                "selector001": {
                  "type": "single",
                  "fields": ["product_category"],
                  "on": "mouseover",
                  "empty": "none"
                }
              }
            },
            {
              "mark": {"type": "text", "fontSize": 18, "fontWeight": "bold"},
              "encoding": {
                "color": {
                  "condition": {"value": "#FF9900", "selection": "selector001"},
                  "value": "gray"
                },
                "opacity": {
                  "condition": {"value": 1, "selection": "selector001"},
                  "value": 0
                },
                "text": {
                  "field": "fraction",
                  "format": ".1%",
                  "type": "quantitative"
                },
                "theta": {
                  "field": "percentage",
                  "stack": true,
                  "type": "quantitative"
                }
              },
              "transform": [
                {"calculate": "datum.percentage / 100", "as": "fraction"}
              ]
            }
          ],
          "data": {"name": "data-84c5100233d7dc4d81467dd25acb8b05"},
          "height": 350,
          "title": "Amazon Inventory",
          "width": 350
        },
        {
          "layer": [
            {
              "mark": {"type": "rect", "stroke": "black", "strokeWidth": 1},
              "encoding": {
                "color": {
                  "condition": {"value": "white", "selection": "selector001"},
                  "value": "gray"
                },
                "opacity": {
                  "condition": {"value": 1, "selection": "selector001"},
                  "value": 0.2
                },
                "y": {
                  "axis": null,
                  "field": "product_category",
                  "type": "nominal"
                }
              },
              "height": 350,
              "selection": {
                "selector001": {
                  "type": "single",
                  "fields": ["product_category"],
                  "on": "mouseover",
                  "empty": "none"
                }
              },
              "title": "Product Category",
              "width": 150
            },
            {
              "mark": {
                "type": "text",
                "align": "center",
                "baseline": "middle",
                "font": "sans-serif",
                "fontWeight": "bold"
              },
              "encoding": {
                "opacity": {
                  "condition": {"value": 1, "selection": "selector001"},
                  "value": 0.2
                },
                "size": {
                  "condition": {"value": 13, "selection": "selector001"},
                  "value": 10
                },
                "text": {"field": "product_category", "type": "nominal"},
                "y": {
                  "axis": null,
                  "field": "product_category",
                  "type": "nominal"
                }
              }
            }
          ],
          "data": {"name": "data-9d7b9a4ad5a6df50b57decdaedcd0243"}
        },
        {
          "layer": [
            {
              "mark": {"type": "arc", "innerRadius": 50, "stroke": "blue"},
              "encoding": {
                "color": {
                  "condition": {"value": "#0061F2", "selection": "selector001"},
                  "value": "gray"
                },
                "opacity": {
                  "condition": {"value": 1, "selection": "selector001"},
                  "value": 0.2
                },
                "theta": {
                  "field": "percentage",
                  "stack": true,
                  "type": "quantitative"
                }
              },
              "selection": {
                "selector001": {
                  "type": "single",
                  "fields": ["product_category"],
                  "on": "mouseover",
                  "empty": "none"
                }
              }
            },
            {
              "mark": {"type": "text", "fontSize": 18, "fontWeight": "bold"},
              "encoding": {
                "color": {
                  "condition": {"value": "#0061F2", "selection": "selector001"},
                  "value": "gray"
                },
                "opacity": {
                  "condition": {"value": 1, "selection": "selector001"},
                  "value": 0
                },
                "text": {
                  "field": "fraction",
                  "format": ".1%",
                  "type": "quantitative"
                },
                "theta": {
                  "field": "percentage",
                  "stack": true,
                  "type": "quantitative"
                }
              },
              "transform": [
                {"calculate": "datum.percentage / 100", "as": "fraction"}
              ]
            }
          ],
          "data": {"name": "data-a047b5b926c273672756facc67defd0b"},
          "height": 350,
          "title": "Walmart Inventory",
          "width": 350
        },
        {
          "data": {"name": "empty"},
          "mark": {"type": "text", "text": ""},
          "width": 75
        }
      ]
    },
    {
      "hconcat": [
        {
          "data": {"name": "empty"},
          "mark": {"type": "text", "text": ""},
          "width": 75
        },
        {
          "layer": [
            {
              "mark": {"type": "bar", "size": 20},
              "encoding": {
                "color": {
                  "condition": {"value": "#FF9900", "selection": "selector001"},
                  "value": "gray"
                },
                "opacity": {
                  "condition": {"value": 1, "selection": "selector001"},
                  "value": 0.2
                },
                "x": {
                  "axis": {"labels": false, "ticks": false, "title": null},
                  "field": "product_category",
                  "type": "nominal"
                },
                "y": {
                  "axis": {
                    "format": "$,.0f",
                    "labelColor": "orange",
                    "labelFontWeight": "bold",
                    "title": null
                  },
                  "field": "avg_price",
                  "scale": {"domain": [0, 130]},
                  "type": "quantitative"
                }
              },
              "height": 300,
              "selection": {
                "selector001": {
                  "type": "single",
                  "fields": ["product_category"],
                  "on": "mouseover",
                  "empty": "none"
                }
              },
              "title": "Amazon Average Product Price by Category",
              "transform": [{"filter": "(datum.store === 'Amazon')"}],
              "width": 400
            },
            {
              "mark": {
                "type": "text",
                "align": "center",
                "baseline": "bottom",
                "dy": -5,
                "fontWeight": "bold"
              },
              "encoding": {
                "color": {"value": "orange"},
                "opacity": {
                  "condition": {"value": 1, "selection": "selector001"},
                  "value": 0
                },
                "text": {
                  "field": "avg_price",
                  "format": "$,.0f",
                  "type": "quantitative"
                },
                "x": {"field": "product_category", "type": "nominal"},
                "y": {"field": "avg_price", "type": "quantitative"}
              },
              "transform": [{"filter": "(datum.store === 'Amazon')"}]
            }
          ],
          "data": {"name": "data-9d7b9a4ad5a6df50b57decdaedcd0243"}
        },
        {
          "layer": [
            {
              "mark": {"type": "bar", "size": 20},
              "encoding": {
                "color": {
                  "condition": {"value": "#0061F2", "selection": "selector001"},
                  "value": "gray"
                },
                "opacity": {
                  "condition": {"value": 1, "selection": "selector001"},
                  "value": 0.2
                },
                "x": {
                  "axis": {"labels": false, "ticks": false, "title": null},
                  "field": "product_category",
                  "type": "nominal"
                },
                "y": {
                  "axis": {
                    "format": "$,.0f",
                    "labelColor": "blue",
                    "labelFontWeight": "bold",
                    "title": null
                  },
                  "field": "avg_price",
                  "scale": {"domain": [0, 130]},
                  "type": "quantitative"
                }
              },
              "height": 300,
              "selection": {
                "selector001": {
                  "type": "single",
                  "fields": ["product_category"],
                  "on": "mouseover",
                  "empty": "none"
                }
              },
              "title": "Walmart Average Product Price by Category",
              "transform": [{"filter": "(datum.store === 'Walmart')"}],
              "width": 400
            },
            {
              "mark": {
                "type": "text",
                "align": "center",
                "baseline": "bottom",
                "dy": -5,
                "fontWeight": "bold"
              },
              "encoding": {
                "color": {"value": "blue"},
                "opacity": {
                  "condition": {"value": 1, "selection": "selector001"},
                  "value": 0
                },
                "text": {
                  "field": "avg_price",
                  "format": "$,.0f",
                  "type": "quantitative"
                },
                "x": {"field": "product_category", "type": "nominal"},
                "y": {"field": "avg_price", "type": "quantitative"}
              },
              "transform": [{"filter": "(datum.store === 'Walmart')"}]
            }
          ],
          "data": {"name": "data-9d7b9a4ad5a6df50b57decdaedcd0243"}
        },
        {
          "data": {"name": "empty"},
          "mark": {"type": "text", "text": ""},
          "width": 75
        }
      ]
    }
  ],
  "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json",
  "datasets": {
    "empty": [{}],
    "data-84c5100233d7dc4d81467dd25acb8b05": [
      {
        "product_category": "Arts & Crafts",
        "count": 87723,
        "percentage": 6.150229574076813
      },
      {
        "product_category": "Automotive",
        "count": 86730,
        "percentage": 6.080610683169545
      },
      {
        "product_category": "Baby & Kids",
        "count": 189177,
        "percentage": 13.263134869248994
      },
      {
        "product_category": "Electronics & Gadgets",
        "count": 194068,
        "percentage": 13.606041209055084
      },
      {
        "product_category": "Fashion",
        "count": 303931,
        "percentage": 21.30849862269576
      },
      {
        "product_category": "Health & Wellness",
        "count": 103645,
        "percentage": 7.266515556982676
      },
      {
        "product_category": "Home & Living",
        "count": 170961,
        "percentage": 11.986017329705392
      },
      {
        "product_category": "Industrial & Scientific",
        "count": 171953,
        "percentage": 12.055566110954144
      },
      {
        "product_category": "Miscellaneous",
        "count": 8810,
        "percentage": 0.617666091533768
      },
      {
        "product_category": "Office Supplies",
        "count": 16175,
        "percentage": 1.1340237265106352
      },
      {
        "product_category": "Party Supplies",
        "count": 28590,
        "percentage": 2.0044351369977784
      },
      {
        "product_category": "Pet Supplies",
        "count": 42223,
        "percentage": 2.9602401115584884
      },
      {
        "product_category": "Sports & Outdoors",
        "count": 22351,
        "percentage": 1.567020977510925
      }
    ],
    "data-9d7b9a4ad5a6df50b57decdaedcd0243": [
      {
        "product_category": "Arts & Crafts",
        "avg_price": 21.149484171767952,
        "store": "Amazon"
      },
      {
        "product_category": "Automotive",
        "avg_price": 48.52654121987778,
        "store": "Amazon"
      },
      {
        "product_category": "Baby & Kids",
        "avg_price": 28.728923389206933,
        "store": "Amazon"
      },
      {
        "product_category": "Electronics & Gadgets",
        "avg_price": 88.93639806665703,
        "store": "Amazon"
      },
      {
        "product_category": "Fashion",
        "avg_price": 45.497603008577606,
        "store": "Amazon"
      },
      {
        "product_category": "Health & Wellness",
        "avg_price": 21.467207101162625,
        "store": "Amazon"
      },
      {
        "product_category": "Home & Living",
        "avg_price": 41.65445516813776,
        "store": "Amazon"
      },
      {
        "product_category": "Industrial & Scientific",
        "avg_price": 35.79435182869737,
        "store": "Amazon"
      },
      {
        "product_category": "Miscellaneous",
        "avg_price": 26.356758229284903,
        "store": "Amazon"
      },
      {
        "product_category": "Office Supplies",
        "avg_price": 84.09099659969088,
        "store": "Amazon"
      },
      {
        "product_category": "Party Supplies",
        "avg_price": 14.359492130115425,
        "store": "Amazon"
      },
      {
        "product_category": "Pet Supplies",
        "avg_price": 26.883848376477275,
        "store": "Amazon"
      },
      {
        "product_category": "Sports & Outdoors",
        "avg_price": 28.724259764663774,
        "store": "Amazon"
      },
      {
        "product_category": "Arts & Crafts",
        "avg_price": 10.67578947368421,
        "store": "Walmart"
      },
      {
        "product_category": "Automotive",
        "avg_price": 35.80777251184834,
        "store": "Walmart"
      },
      {
        "product_category": "Baby & Kids",
        "avg_price": 78.89395830295962,
        "store": "Walmart"
      },
      {
        "product_category": "Electronics & Gadgets",
        "avg_price": 93.14015151515152,
        "store": "Walmart"
      },
      {
        "product_category": "Fashion",
        "avg_price": 45.0248875739645,
        "store": "Walmart"
      },
      {
        "product_category": "Health & Wellness",
        "avg_price": 29.256263766710536,
        "store": "Walmart"
      },
      {
        "product_category": "Home & Living",
        "avg_price": 46.50635243882411,
        "store": "Walmart"
      },
      {
        "product_category": "Industrial & Scientific",
        "avg_price": 44.24740157480315,
        "store": "Walmart"
      },
      {
        "product_category": "Miscellaneous",
        "avg_price": 28.632739914952303,
        "store": "Walmart"
      },
      {
        "product_category": "Office Supplies",
        "avg_price": 23.58857142857143,
        "store": "Walmart"
      },
      {
        "product_category": "Party Supplies",
        "avg_price": 16.727727272727275,
        "store": "Walmart"
      },
      {
        "product_category": "Pet Supplies",
        "avg_price": 44.0366903409091,
        "store": "Walmart"
      },
      {
        "product_category": "Sports & Outdoors",
        "avg_price": 124.9119465557627,
        "store": "Walmart"
      }
    ],
    "data-a047b5b926c273672756facc67defd0b": [
      {
        "product_category": "Arts & Crafts",
        "count": 19,
        "percentage": 0.0316883203522407
      },
      {
        "product_category": "Automotive",
        "count": 211,
        "percentage": 0.3519071365433046
      },
      {
        "product_category": "Baby & Kids",
        "count": 6859,
        "percentage": 11.439483647158893
      },
      {
        "product_category": "Electronics & Gadgets",
        "count": 132,
        "percentage": 0.2201504361313564
      },
      {
        "product_category": "Fashion",
        "count": 845,
        "percentage": 1.4092963525075468
      },
      {
        "product_category": "Health & Wellness",
        "count": 14437,
        "percentage": 24.078120048699944
      },
      {
        "product_category": "Home & Living",
        "count": 6089,
        "percentage": 10.15527276972598
      },
      {
        "product_category": "Industrial & Scientific",
        "count": 127,
        "percentage": 0.21181140445971414
      },
      {
        "product_category": "Miscellaneous",
        "count": 8701,
        "percentage": 14.51158291499191
      },
      {
        "product_category": "Office Supplies",
        "count": 14,
        "percentage": 0.023349288680598407
      },
      {
        "product_category": "Party Supplies",
        "count": 198,
        "percentage": 0.33022565419703465
      },
      {
        "product_category": "Pet Supplies",
        "count": 1408,
        "percentage": 2.3482713187344686
      },
      {
        "product_category": "Sports & Outdoors",
        "count": 20919,
        "percentage": 34.88884070781701
      }
    ]
  }
};
    vegaEmbed("#vis", spec, {mode: "vega-lite"}).then(console.log).catch(console.warn);
  </script>
</body>
</html>