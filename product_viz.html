<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/vega@5.30.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.26.0"></script>
</head>
<body>
  <div id="vis"/>
  <script>
    const spec = {
  "config": {
    "scale": {"range": {"category": "category20"}},
    "view": {"strokeOpacity": 0}
  },
  "vconcat": [
    {
      "hconcat": [
        {
          "data": {"name": "data-84c5100233d7dc4d81467dd25acb8b05"},
          "mark": {"type": "arc", "innerRadius": 40, "stroke": "#fff"},
          "encoding": {
            "color": {
              "field": "product_category",
              "legend": null,
              "scale": {"scheme": "tableau20"},
              "type": "nominal"
            },
            "opacity": {
              "condition": {"value": 1, "selection": "selector027"},
              "value": 0.2
            },
            "theta": {
              "field": "percentage",
              "stack": true,
              "type": "quantitative"
            },
            "tooltip": [
              {
                "field": "product_category",
                "title": "Product Category",
                "type": "nominal"
              },
              {
                "field": "percentage",
                "format": ".2f",
                "title": "Percentage",
                "type": "quantitative"
              }
            ]
          },
          "height": 350,
          "selection": {
            "selector027": {
              "type": "single",
              "fields": ["product_category"],
              "on": "mouseover",
              "empty": "none",
              "nearest": false
            }
          },
          "title": "Amazon Product Inventory",
          "width": 350
        },
        {
          "layer": [
            {
              "mark": "rect",
              "encoding": {
                "color": {
                  "field": "product_category",
                  "legend": null,
                  "scale": {"scheme": "tableau20"},
                  "type": "nominal"
                },
                "opacity": {
                  "condition": {"value": 1, "selection": "selector027"},
                  "value": 0.2
                },
                "y": {
                  "axis": null,
                  "field": "product_category",
                  "type": "nominal"
                }
              },
              "height": 350,
              "selection": {
                "selector027": {
                  "type": "single",
                  "fields": ["product_category"],
                  "on": "mouseover",
                  "empty": "none",
                  "nearest": false
                }
              },
              "title": "Product Category",
              "width": 150
            },
            {
              "mark": {
                "type": "text",
                "align": "center",
                "baseline": "middle",
                "font": "sans-serif"
              },
              "encoding": {
                "opacity": {
                  "condition": {"value": 1, "selection": "selector027"},
                  "value": 0.2
                },
                "size": {
                  "condition": {"value": 14, "selection": "selector027"},
                  "value": 10
                },
                "text": {"field": "product_category", "type": "nominal"},
                "y": {
                  "axis": null,
                  "field": "product_category",
                  "type": "nominal"
                }
              }
            }
          ],
          "data": {"name": "data-c9a9bc0a72cbce4f6e39bcf125bacb22"}
        },
        {
          "data": {"name": "data-e281a23e3b13402a1bbd25439653a954"},
          "mark": {"type": "arc", "innerRadius": 40, "stroke": "#fff"},
          "encoding": {
            "color": {
              "field": "product_category",
              "legend": null,
              "scale": {"scheme": "tableau20"},
              "type": "nominal"
            },
            "opacity": {
              "condition": {"value": 1, "selection": "selector027"},
              "value": 0.2
            },
            "theta": {
              "field": "percentage",
              "stack": true,
              "type": "quantitative"
            },
            "tooltip": [
              {
                "field": "product_category",
                "title": "Product Category",
                "type": "nominal"
              },
              {
                "field": "percentage",
                "format": ".2f",
                "title": "Percentage",
                "type": "quantitative"
              }
            ]
          },
          "height": 350,
          "selection": {
            "selector027": {
              "type": "single",
              "fields": ["product_category"],
              "on": "mouseover",
              "empty": "none",
              "nearest": false
            }
          },
          "title": "Walmart Product Inventory",
          "width": 350
        }
      ]
    },
    {
      "hconcat": [
        {"data": {"name": "empty"}, "mark": "text", "width": 50},
        {
          "data": {"name": "data-c9a9bc0a72cbce4f6e39bcf125bacb22"},
          "mark": {"type": "bar", "size": 20},
          "encoding": {
            "color": {
              "field": "product_category",
              "legend": null,
              "scale": {"scheme": "tableau20"},
              "type": "nominal"
            },
            "column": {
              "field": "store",
              "header": {"labelOrient": "bottom", "title": null},
              "type": "nominal"
            },
            "opacity": {
              "condition": {"value": 1, "selection": "selector027"},
              "value": 0.2
            },
            "tooltip": [
              {
                "field": "product_category",
                "title": "Product Category",
                "type": "nominal"
              },
              {
                "field": "avg_price",
                "format": "$,.2f",
                "title": "Average Price",
                "type": "quantitative"
              },
              {"field": "store", "title": "Store", "type": "nominal"}
            ],
            "x": {
              "axis": {"labels": false, "ticks": false, "title": null},
              "field": "product_category",
              "type": "nominal"
            },
            "y": {
              "axis": {"format": "$,.2f", "title": null},
              "field": "avg_price",
              "type": "quantitative"
            }
          },
          "height": 300,
          "selection": {
            "selector027": {
              "type": "single",
              "fields": ["product_category"],
              "on": "mouseover",
              "empty": "none",
              "nearest": false
            }
          },
          "title": "Average Price by Category",
          "width": 400
        },
        {"data": {"name": "empty"}, "mark": "text", "width": 50}
      ],
      "resolve": {"scale": {"x": "shared"}}
    }
  ],
  "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json",
  "datasets": {
    "data-84c5100233d7dc4d81467dd25acb8b05": [
      {
        "product_category": "Arts & Crafts",
        "count": 87723,
        "percentage": 6.150229574076813
      },
      {
        "product_category": "Automotive",
        "count": 86730,
        "percentage": 6.080610683169545
      },
      {
        "product_category": "Baby & Kids",
        "count": 189177,
        "percentage": 13.263134869248994
      },
      {
        "product_category": "Electronics & Gadgets",
        "count": 194068,
        "percentage": 13.606041209055084
      },
      {
        "product_category": "Fashion",
        "count": 303931,
        "percentage": 21.30849862269576
      },
      {
        "product_category": "Health & Wellness",
        "count": 103645,
        "percentage": 7.266515556982676
      },
      {
        "product_category": "Home & Living",
        "count": 170961,
        "percentage": 11.986017329705392
      },
      {
        "product_category": "Industrial & Scientific",
        "count": 171953,
        "percentage": 12.055566110954144
      },
      {
        "product_category": "Miscellaneous",
        "count": 8810,
        "percentage": 0.617666091533768
      },
      {
        "product_category": "Office Supplies",
        "count": 16175,
        "percentage": 1.1340237265106352
      },
      {
        "product_category": "Party Supplies",
        "count": 28590,
        "percentage": 2.0044351369977784
      },
      {
        "product_category": "Pet Supplies",
        "count": 42223,
        "percentage": 2.9602401115584884
      },
      {
        "product_category": "Sports & Outdoors",
        "count": 22351,
        "percentage": 1.567020977510925
      }
    ],
    "data-c9a9bc0a72cbce4f6e39bcf125bacb22": [
      {
        "product_category": "Arts & Crafts",
        "avg_price": 21.149484171767952,
        "store": "Amazon"
      },
      {
        "product_category": "Automotive",
        "avg_price": 48.52654121987778,
        "store": "Amazon"
      },
      {
        "product_category": "Baby & Kids",
        "avg_price": 28.728923389206933,
        "store": "Amazon"
      },
      {
        "product_category": "Electronics & Gadgets",
        "avg_price": 88.93639806665703,
        "store": "Amazon"
      },
      {
        "product_category": "Fashion",
        "avg_price": 45.497603008577606,
        "store": "Amazon"
      },
      {
        "product_category": "Health & Wellness",
        "avg_price": 21.467207101162625,
        "store": "Amazon"
      },
      {
        "product_category": "Home & Living",
        "avg_price": 41.65445516813776,
        "store": "Amazon"
      },
      {
        "product_category": "Industrial & Scientific",
        "avg_price": 35.79435182869737,
        "store": "Amazon"
      },
      {
        "product_category": "Miscellaneous",
        "avg_price": 26.356758229284903,
        "store": "Amazon"
      },
      {
        "product_category": "Office Supplies",
        "avg_price": 84.09099659969088,
        "store": "Amazon"
      },
      {
        "product_category": "Party Supplies",
        "avg_price": 14.359492130115425,
        "store": "Amazon"
      },
      {
        "product_category": "Pet Supplies",
        "avg_price": 26.883848376477275,
        "store": "Amazon"
      },
      {
        "product_category": "Sports & Outdoors",
        "avg_price": 28.724259764663774,
        "store": "Amazon"
      },
      {
        "product_category": "Arts & Crafts",
        "avg_price": 10.67578947368421,
        "store": "Walmart"
      },
      {
        "product_category": "Automotive",
        "avg_price": 35.80777251184834,
        "store": "Walmart"
      },
      {
        "product_category": "Baby & Kids",
        "avg_price": 78.89395830295962,
        "store": "Walmart"
      },
      {
        "product_category": "Books & Media",
        "avg_price": 36.987575757575755,
        "store": "Walmart"
      },
      {
        "product_category": "Electronics & Gadgets",
        "avg_price": 93.14015151515152,
        "store": "Walmart"
      },
      {
        "product_category": "Fashion",
        "avg_price": 45.0248875739645,
        "store": "Walmart"
      },
      {
        "product_category": "Grocery",
        "avg_price": 28.442108338405358,
        "store": "Walmart"
      },
      {
        "product_category": "Health & Wellness",
        "avg_price": 29.256263766710536,
        "store": "Walmart"
      },
      {
        "product_category": "Home & Living",
        "avg_price": 46.50635243882411,
        "store": "Walmart"
      },
      {
        "product_category": "Industrial & Scientific",
        "avg_price": 44.24740157480315,
        "store": "Walmart"
      },
      {
        "product_category": "Miscellaneous",
        "avg_price": 31.481147902869754,
        "store": "Walmart"
      },
      {
        "product_category": "Office Supplies",
        "avg_price": 23.58857142857143,
        "store": "Walmart"
      },
      {
        "product_category": "Party Supplies",
        "avg_price": 16.727727272727275,
        "store": "Walmart"
      },
      {
        "product_category": "Pet Supplies",
        "avg_price": 44.0366903409091,
        "store": "Walmart"
      },
      {
        "product_category": "Sports & Outdoors",
        "avg_price": 124.9119465557627,
        "store": "Walmart"
      }
    ],
    "data-e281a23e3b13402a1bbd25439653a954": [
      {
        "product_category": "Arts & Crafts",
        "count": 19,
        "percentage": 0.0316883203522407
      },
      {
        "product_category": "Automotive",
        "count": 211,
        "percentage": 0.3519071365433046
      },
      {
        "product_category": "Baby & Kids",
        "count": 6859,
        "percentage": 11.439483647158893
      },
      {
        "product_category": "Books & Media",
        "count": 33,
        "percentage": 0.0550376090328391
      },
      {
        "product_category": "Electronics & Gadgets",
        "count": 132,
        "percentage": 0.2201504361313564
      },
      {
        "product_category": "Fashion",
        "count": 845,
        "percentage": 1.4092963525075468
      },
      {
        "product_category": "Grocery",
        "count": 8215,
        "percentage": 13.701029036508281
      },
      {
        "product_category": "Health & Wellness",
        "count": 14437,
        "percentage": 24.078120048699944
      },
      {
        "product_category": "Home & Living",
        "count": 6089,
        "percentage": 10.15527276972598
      },
      {
        "product_category": "Industrial & Scientific",
        "count": 127,
        "percentage": 0.21181140445971414
      },
      {
        "product_category": "Miscellaneous",
        "count": 453,
        "percentage": 0.7555162694507913
      },
      {
        "product_category": "Office Supplies",
        "count": 14,
        "percentage": 0.023349288680598407
      },
      {
        "product_category": "Party Supplies",
        "count": 198,
        "percentage": 0.33022565419703465
      },
      {
        "product_category": "Pet Supplies",
        "count": 1408,
        "percentage": 2.3482713187344686
      },
      {
        "product_category": "Sports & Outdoors",
        "count": 20919,
        "percentage": 34.88884070781701
      }
    ],
    "empty": [{}]
  }
};
    vegaEmbed("#vis", spec, {mode: "vega-lite"}).then(console.log).catch(console.warn);
  </script>
</body>
</html>